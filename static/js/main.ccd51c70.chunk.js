(this.webpackJsonplitquotes=this.webpackJsonplitquotes||[]).push([[0],{104:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(12),i=a.n(c),o=a(20),r=a(21),l=a(13),u=a(23),h=a(22),d=(a(19),a(103),a(104),a(11)),m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={photos:[],currentImageIndex:3,canGoPrev:!1,canGoNext:!0},n.nextPrevSlide=n.nextPrevSlide.bind(Object(l.a)(n)),n}return Object(r.a)(a,[{key:"nextPrevSlide",value:function(e){var t=this.state.photos.length,a=this.state.currentImageIndex;console.log(t,a),"next"===e.currentTarget.dataset.direction?(a<t-1&&(a+=1,this.setState({canGoPrev:!0})),a===t-1&&this.setState({canGoNext:!1})):(a>3&&(a-=1,this.setState({canGoNext:!0})),3===a&&this.setState({canGoPrev:!1})),this.setState({currentImageIndex:a})}},{key:"render",value:function(){var e=this.props,t=(e.id,e.items,this.props.items);this.state.photos.push(t);return s.a.createElement(d.e,{id:this.props.id},s.a.createElement(d.f,null,"Literature quotes"),s.a.createElement(d.c,{className:"centered"},s.a.createElement(d.d,null,this.state.currentImageIndex-2,s.a.createElement(d.b,{className:"testClass"},s.a.createElement("img",{src:this.state.photos[this.state.currentImageIndex],alt:""})),s.a.createElement(d.b,{className:"buttons"},s.a.createElement(d.a,{disabled:!this.state.canGoPrev,"data-direction":"prev",onClick:this.nextPrevSlide.bind(this)},"\u041f\u0440\u0435\u0434."),s.a.createElement(d.a,{disabled:!this.state.canGoNext,"data-direction":"next",onClick:this.nextPrevSlide.bind(this)},"\u0421\u043b\u0435\u0434.")))))}}]),a}(s.a.Component),p=a(14),b=a.n(p),v=a(33),f=a.n(v),g=(a(115),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).go=function(e){n.setState({activePanel:e.currentTarget.dataset.to})},n.state={activePanel:"home",fetchedUser:null,authToken:null,items:[]},n.getItems=n.getItems.bind(Object(l.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;case"VKWebAppAccessTokenReceived":e.setState({authToken:t.detail.data.access_token}),e.getItems();break;default:console.log(t.detail.type)}})),b.a.send("VKWebAppGetUserInfo",{}),b.a.send("VKWebAppGetAuthToken",{app_id:7539872,scope:"photos"})}},{key:"getItems",value:function(){var e=this,t="https://api.vk.com/method/photos.get?v=5.52&access_token=".concat(this.state.authToken,"&owner_id=-").concat(196914612,"&album_id=wall&count=1000");f()(t).then((function(e){return e.json()})).then((function(t){return t.response.items.map((function(t){e.setState({items:t.photo_604})}))})).catch((function(e){return[]}))}},{key:"render",value:function(){return s.a.createElement(d.g,{activePanel:this.state.activePanel},s.a.createElement(m,{id:"home",items:this.state.items,fetchedUser:this.state.fetchedUser,go:this.go}))}}]),a}(s.a.Component));a(116);b.a.send("VKWebAppInit",{}),i.a.render(s.a.createElement(g,null),document.getElementById("root"))},98:function(e,t,a){e.exports=a(117)}},[[98,1,2]]]);
//# sourceMappingURL=main.ccd51c70.chunk.js.map